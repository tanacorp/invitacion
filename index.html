<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adriana Solange - Invitación Real</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/7.1.0/mdb.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:wght@700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

<style>
        /* --- ESTILO NUEVO: CRISTAL, PERLA Y PLATA --- */
        :root { 
            /* Paleta Suave y Brillante */
            --celeste-claro: #E1F5FE;  /* Fondo muy suave */
            --celeste-vivo: #29B6F6;   /* Para detalles pequeños */
            --celeste-texto: #0277BD;  /* Texto legible pero elegante */
            
            --plata-brillo: #f5f5f5;   /* Blanco humo */
            --plata-borde: #CFD8DC;    /* Borde metálico suave */
            --gris-elegante: #546E7A;  /* Texto secundario (no negro) */
            
            --page-bg: #ffffff;       
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            /* Asegúrate de que tu fondo.jpg sea bonito, si no, usa este degradado: */
            background: url('fondo.jpg') no-repeat center center fixed; 
            background-size: cover;
            margin: 0; min-height: 100vh;
            display: flex; align-items: center; justify-content: center;
            overflow: hidden;
        }

        /* EL LIBRO: Ahora es Blanco/Plateado (Más princesa, menos oscuro) */
        .book { 
            width: 95%; max-width: 400px; height: 80vh; max-height: 600px; 
            position: relative; 
            /* Degradado Plata Perlado */
            background: linear-gradient(45deg, #ECE9E6 0%, #FFFFFF 100%);
            border-radius: 10px 20px 20px 10px; 
            padding-left: 15px; /* Lomo del libro */
            /* Sombra suave y elegante */
            box-shadow: 20px 20px 50px rgba(0,0,0,0.3), inset 5px 0 10px rgba(0,0,0,0.1); 
            border: 1px solid #fff;
        }

        /* LAS PÁGINAS: Limpias y con borde brillante */
        .page { 
            position: absolute; inset: 0; margin: 12px; padding: 25px 20px; 
            background-color: #ffffff; 
            /* Quitamos la textura de papel viejo, dejamos un blanco puro */
            background-image: linear-gradient(to bottom right, #ffffff, #fbfbfb);
            /* Borde doble fino en celeste muy pálido */
            border: 4px double #B3E5FC; 
            border-radius: 5px 15px 15px 5px; 
            display: none; flex-direction: column; align-items: center; justify-content: center; text-align: center; 
            overflow-y: auto;
        }

        .page.active { display: flex; z-index: 10; animation: fadeIn 0.8s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } }

        .nav-controls { 
            position: absolute; bottom: -60px; width: 100%; 
            display: flex; justify-content: center; gap: 40px; z-index: 100; padding: 0 5px;
        }

        /* BOTONES DE NAVEGACIÓN: Transparentes y minimalistas */
        .btn-nav { 
            background: rgba(255, 255, 255, 0.8); 
            border: 1px solid white; 
            border-radius: 50%; width: 50px; height: 50px; 
            color: var(--celeste-texto); 
            box-shadow: 0 4px 15px rgba(0,0,0,0.1); 
            backdrop-filter: blur(5px);
            transition: transform 0.2s;
        }
        .btn-nav:active { transform: scale(0.9); }

        /* TIPOGRAFÍA: Mis 15 Años (Estilo Fino) */
        .mis-15-titulo {
            font-family: 'Playfair Display', serif;
            font-size: 1.2rem;
            color: var(--gris-elegante);
            letter-spacing: 5px; /* Muy espaciado = Muy elegante */
            text-transform: uppercase;
            border-bottom: 1px solid var(--celeste-vivo);
            padding-bottom: 8px;
            margin-bottom: 10px;
            display: inline-block;
        }

        /* TIPOGRAFÍA: Nombre (Cursiva Grande) */
        .name-title { 
            font-family: 'Great Vibes', cursive; 
            font-size: 3rem; 
            /* Degradado en el texto */
            background: -webkit-linear-gradient(45deg, #0288D1, #26C6DA);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            line-height: 1.1; 
            margin: 10px 0; 
            filter: drop-shadow(0px 2px 2px rgba(0,0,0,0.1));
        }

        /* CONTADORES (Cajas limpias) */
        .timer-unit { 
            background: #fff;
            padding: 8px; border-radius: 8px; 
            border: 1px solid #E1F5FE; 
            min-width: 60px; 
            box-shadow: 0 4px 10px rgba(179, 229, 252, 0.4);
            color: var(--celeste-texto);
        }

        /* TEXTOS GENERALES */
        p, .small, label { color: var(--gris-elegante); }
        b, strong { color: var(--celeste-texto); font-weight: 600; }

        /* BOTONES DEL FORMULARIO */
        .btn-celeste { 
            background: linear-gradient(to right, #29B6F6, #039BE5);
            color: white; border: none; font-weight: 500; letter-spacing: 1px;
            box-shadow: 0 4px 10px rgba(3, 155, 229, 0.3);
        }
        
        .btn-plata { 
            background: white; border: 1px solid var(--plata-borde); color: var(--gris-elegante);
        }

        /* ALERTAS Y NOTAS (Más suaves) */
        .nota-elegante {
            background-color: #F1F8E9; /* O un azul muy lavanda */
            background: linear-gradient(to right, #fbfbfb, #e1f5fe);
            border-left: 4px solid var(--celeste-vivo);
            padding: 15px; border-radius: 5px;
            font-size: 0.8rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        /* Inputs del formulario más bonitos */
        .form-control, .form-select {
            border: 1px solid #E0E0E0;
            background-color: #FAFAFA;
            border-radius: 8px;
        }
        .form-control:focus {
            border-color: var(--celeste-vivo);
            box-shadow: 0 0 0 4px rgba(41, 182, 246, 0.1);
        }
    </style>
</head>
<body>

<button class="music-btn" onclick="toggleMusic()" id="mBtn"><i class="fas fa-music"></i></button>
<audio id="bgMusic" loop>
    <source src="musica.mp3" type="audio/mpeg">
</audio>

<div class="book" id="bookContainer">
    <div class="page active">
        <i class="fas fa-crown fa-2x text-muted mb-3" style="opacity: 0.5;"></i>
        
        <div class="animate__animated animate__fadeInDown">
            <span class="mis-15-titulo">Mis 15 Años</span>
        </div>

        <h1 class="name-title">Adriana Solange</h1>
        
        <hr class="w-50 mx-auto my-3" style="border-top: 1px solid #E0E0E0;">
        
        <div class="row w-100 small mt-2">
            <div class="col-6">
                <span style="font-size: 0.7rem; text-transform: uppercase; letter-spacing: 2px;">Padres</span><br>
                José Carlos Nuñez<br>Jackeline Quispe M.
            </div>
            <div class="col-6">
                <span style="font-size: 0.7rem; text-transform: uppercase; letter-spacing: 2px;">Padrinos</span><br>
                Ayleen Canto L.<br>Euler Mamani Ch.
            </div>
        </div>
        
        <img src="carruaje.png" width="140" class="mt-4" style="opacity: 0.9;">
        
        <div class="mt-4 animate__animated animate__pulse animate__infinite">
            <small style="color: var(--celeste-texto); font-size: 0.7rem; letter-spacing: 1px;">
                TOCA PARA ENTRAR
            </small>
        </div>
    </div>

    <div class="page">
        <h4 class="text-celeste mb-4 fw-bold">¡Falta Muy Poco!</h4>
        <div class="d-flex gap-2">
            <div class="timer-unit"><div id="d" class="h3 fw-bold mb-0 text-secondary">0</div><small>Días</small></div>
            <div class="timer-unit"><div id="h" class="h3 fw-bold mb-0 text-secondary">00</div><small>Hrs</small></div>
            <div class="timer-unit"><div id="m" class="h3 fw-bold mb-0 text-secondary">00</div><small>Min</small></div>
        </div>
        <div class="mt-5 text-muted">
            <p class="mb-0">Sábado 27 de Diciembre</p>
            <p class="fw-bold h5 text-dark">7:30 PM</p>
        </div>
    </div>

    <div class="page">
        <h5 class="text-celeste mb-2"><i class="fas fa-map-marker-alt"></i> Recepción</h5>
        <p class="small mb-2"><b>El Rancho de Pol 2</b><br>Av. Los Ciruelos 492 - SJL</p>
        
        <div class="p-2 mb-2 rounded-3 text-dark border shadow-sm" style="background: #e1f5fe; border-color: var(--celeste); font-size: 0.7rem;">
            <i class="fas fa-star text-celeste"></i> Contamos con ambientes exclusivos:<br>
            <strong>Salón de Gala (Adultos)</strong> & <strong>Zona Lounge (Jóvenes)</strong>
        </div>

        <<div class="ratio ratio-16x9 mb-3 border rounded shadow-sm">
            <iframe 
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3902.502424056277!2d-77.0098056241031!3d-11.982631441113943!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9105c5632382cb29%3A0xa3e6a1ef662bc70c!2sEl%20Rancho%20de%20Pol%202!5e0!3m2!1ses!2spe!4v1710000000000!5m2!1ses!2spe" 
                style="border:0;" allowfullscreen="" loading="lazy">
            </iframe>
        </div>

        <a href="https://www.google.com/maps/dir/?api=1&destination=El+Rancho+de+Pol+2&destination_place_id=ChIJqcuCI2PFBZERDMcrZu-h5qM" 
           target="_blank" 
           class="btn btn-sm btn-primary btn-rounded shadow">
           <i class="fas fa-route me-2"></i>Cómo llegar
        </a>
    </div>

   <div class="page">
        <div class="mb-4">
            <img src="mariposa.png" alt="Mariposa" style="width: 80px; height: auto; filter: drop-shadow(0px 3px 3px rgba(0,0,0,0.2));">
        </div>
        
        <h2 class="name-title" style="
            font-size: 1.6rem;       /* Tamaño un poco más pequeño para que no se amontone */
            line-height: 1.6;        /* Mayor espacio entre líneas */
            letter-spacing: 1px;     /* Espacio adicional entre cada letra cursiva */
            padding: 0 15px;         /* Márgenes laterales para que no toque los bordes */
            color: var(--celeste-dark); /* Color azul oscuro para buen contraste */
        ">
            "Cumplir Quince Años y compartirlo con los que amo, es una manera de ser feliz. Estos Quince Años me han sido dados para que fortalezcan con los dones que Dios me dio en todos los actos de mi vida."
        </h2>
        
        <p class="text-muted italic mt-3" style="font-size: 1.1rem;">
            - Hada Madrina
        </p>
    </div>

    <div class="page">
        <div class="mb-4">
            <i class="fas fa-user-tie fa-2x text-celeste mb-2"></i>
            <h5 class="fw-bold">Código de Vestimenta</h5>
            <p class="small">
                <span class="badge rounded-pill shadow-sm" style="background-color: var(--celeste-dark); font-size: 0.9rem;">Elegante / Gala</span>
                <br><br>
                Nos encantaría verte lucir tu mejor gala.
                <br>
                <small class="text-muted">(Se reserva el color Celeste para la quinceañera)</small>
            </p>
        </div>
        <hr class="w-75 mx-auto" style="border-top: 1px double var(--plata-borde);">
        <div class="mt-4">
            <i class="fab fa-instagram fa-2x mb-2" style="color: #E1306C;"></i>
            <h5 class="fw-bold">¡Comparte la Magia!</h5>
            <p class="small">Usa nuestro hashtag oficial:</p>
            <div class="p-2 border rounded-3 bg-light shadow-sm">
                <h4 class="mb-0 fw-bold text-celeste">#QuinoAdriana</h4>
            </div>
        </div>
    </div>

    <div class="page">
        <h5 class="text-celeste mb-3" style="font-family: 'Playfair Display';">Confirmación de Asistencia</h5>
        
        <div class="p-3 mb-3 shadow text-center" style="background-color: #e3f2fd; border: 2px solid var(--celeste-dark); border-radius: 10px;">
            <i class="fas fa-info-circle fa-2x mb-2 text-primary animate__animated animate__pulse animate__infinite"></i>
            <p class="mb-0 fw-bold" style="color: #0d47a1; font-size: 0.75rem; line-height: 1.4;">
                Agradecemos su gentil comprensión al considerar que, para el mayor disfrute de todos, el evento se llevará a cabo en una atmósfera exclusiva de adultos y jóvenes.
            </p>
        </div>

        <form id="formAsistencia" class="w-100 text-start small">
            <input type="hidden" name="tipo" value="asistencia">
            
            <div class="mb-3">
                <label class="fw-bold text-dark">¿Cómo asistirás?</label>
                <select name="invitado1" class="form-select border-celeste fw-bold text-dark" required>
                    <option value="" selected disabled>Selecciona una opción...</option>
                    <option value="Sola/o">Asistiré Sola/o</option>
                    <option value="Acompañada/o">Asistiré Acompañada/o</option>
                </select>
            </div>

            <div class="mb-3">
                <label class="fw-bold text-dark">Nombres completos:</label>
                <textarea name="nombre" class="form-control border-celeste" rows="4" 
                          placeholder="Ejemplo:
Juan Pérez - Mesa (Adulto)
Maria Ramos - Box (Joven)" required></textarea>
                
                <div class="alert mt-2 mb-0 p-2 text-dark shadow-sm" style="font-size: 0.75rem; background-color: #bbdefb; border: 1px solid var(--celeste-dark);">
                    <i class="fas fa-exclamation-circle text-primary"></i> <strong>ATENCIÓN:</strong> Por favor, especifica si cada invitado va a <span class="badge bg-primary">MESA (Adulto)</span> o <span class="badge bg-info text-dark">BOX (Joven)</span>.
                </div>
            </div>

            <button type="submit" class="btn btn-celeste w-100 btn-rounded shadow-sm fw-bold">
                Confirmar Asistencia
            </button>
        </form>
        <div id="statusAsistencia" class="mt-2 small fw-bold text-center"></div>
    </div>

    <div class="page">
        <h5 class="text-celeste mb-3">Envía un Deseo Mágico</h5>
        <form id="formSaludos" class="w-100 text-start small">
            <input type="hidden" name="tipo" value="saludo">
            <div class="mb-2">
                <label class="fw-bold">Tu Nombre:</label>
                <input type="text" name="nombre" class="form-control border-celeste" required>
            </div>
            <div class="mb-3">
                <label class="fw-bold">Mensaje para Adriana:</label>
                <textarea name="mensaje" class="form-control border-celeste" rows="4" maxlength="300" required></textarea>
            </div>
            <button type="submit" class="btn btn-plata w-100 btn-rounded">Enviar Saludo</button>
        </form>
        <div id="statusSaludos" class="mt-2 small fw-bold"></div>
    </div>

    <div class="page">
        <h5 class="text-celeste mb-3">Muro de Deseos</h5>
        <div id="muroMensajes" style="overflow-y: auto; max-height: 420px; width: 100%;" class="p-2">
            <p class="small text-muted">Cargando...</p>
        </div>
        <button class="btn btn-sm btn-outline-info mt-2" onclick="cargarMensajes()">Actualizar</button>
    </div>

    <div class="page">
        <div class="mb-3 animate__animated animate__fadeInUp">
            <i class="fas fa-crown fa-4x text-celeste" style="filter: drop-shadow(0px 4px 6px rgba(79, 195, 247, 0.4));"></i>
        </div>
        
        <h2 class="name-title" style="font-size: 4rem; margin-bottom: 0;">"Gracias"</h2>
        
        <p class="text-muted italic mt-2" style="font-family: 'Poppins', sans-serif; font-size: 1.1rem;">
            - Adriana Solange
        </p>
    </div>

    <div class="nav-controls">
        <button class="btn-nav" onclick="prev()"><i class="fas fa-chevron-left"></i></button>
        <button class="btn-nav" onclick="next()"><i class="fas fa-chevron-right"></i></button>
    </div>
</div>

<script>
    let cur = 0;
    const pages = document.querySelectorAll('.page');
    function show(i) { pages.forEach((p, idx) => p.classList.toggle('active', i === idx)); }
    
    function next() { 
        activarMusica();
        if(cur < pages.length - 1) show(++cur); 
    }
    function prev() { if(cur > 0) show(--cur); }

    const music = document.getElementById('bgMusic');
    const mBtn = document.getElementById('mBtn');

    function activarMusica() {
        if (music.paused) {
            music.play().then(() => {
                mBtn.innerHTML = '<i class="fas fa-pause"></i>';
            }).catch(e => console.log("Bloqueo de audio"));
        }
    }

    function toggleMusic() {
        if (music.paused) {
            music.play();
            mBtn.innerHTML = '<i class="fas fa-pause"></i>';
        } else {
            music.pause();
            mBtn.innerHTML = '<i class="fas fa-music"></i>';
        }
    }

    document.getElementById('bookContainer').addEventListener('click', activarMusica);

    document.addEventListener('mousemove', e => {
        let s = document.createElement('div');
        s.className = 'sparkle-mouse';
        s.style.left = e.clientX + 'px'; s.style.top = e.clientY + 'px';
        document.body.appendChild(s);
        setTimeout(() => s.remove(), 800);
    });

    const scriptURL = 'https://script.google.com/macros/s/AKfycbz3xR_-JTUGbjcoIaTilE0fDej-X-wcvYd5yh0I0pcFNmNYbXq6-0Ju4i8RxdOln2v4xw/exec'; 

    function configurarForm(formId, statusId) {
        const f = document.getElementById(formId);
        f.addEventListener('submit', e => {
            e.preventDefault();
            const b = f.querySelector('button');
            const s = document.getElementById(statusId);
            b.disabled = true; b.innerText = "Enviando...";
            fetch(scriptURL, { method: 'POST', body: new FormData(f)})
                .then(() => {
                    s.innerText = "✨ ¡Enviado con éxito!";
                    s.style.color = "var(--celeste-dark)";
                    f.reset(); b.disabled = false; b.innerText = "Enviar otro";
                    if(formId === 'formSaludos') cargarMensajes();
                }).catch(() => { 
                    s.innerText = "❌ Error"; 
                    s.style.color = "red"; 
                    b.disabled = false; 
                    b.innerText = "Reintentar"; 
                });
        });
    }

    function cargarMensajes() {
        const muro = document.getElementById('muroMensajes');
        fetch(scriptURL).then(r => r.json()).then(data => {
            muro.innerHTML = data.length ? "" : "<p class='small text-muted'>Esperando mensajes...</p>";
            data.forEach(m => {
                muro.innerHTML += `<div class="mensaje-burbuja"><strong>${m.nombre}:</strong><p>"${m.mensaje}"</p></div>`;
            });
        }).catch(() => { muro.innerHTML = "<p class='small text-danger'>No se pudieron cargar los mensajes.</p>"; });
    }

    configurarForm('formAsistencia', 'statusAsistencia');
    configurarForm('formSaludos', 'statusSaludos');

    window.onload = function() {
        cargarMensajes();
        setInterval(() => {
            const target = new Date('December 27, 2025 19:30:00') - new Date();
            document.getElementById('d').innerText = Math.max(0, Math.floor(target / 86400000));
            document.getElementById('h').innerText = Math.max(0, Math.floor((target % 86400000) / 3600000));
            document.getElementById('m').innerText = Math.max(0, Math.floor((target % 3600000) / 60000));
        }, 1000);
    };
</script>
</body>
</html>