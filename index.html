<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adriana Solange - Invitación Real</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/7.1.0/mdb.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:wght@700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

    <style>
        /* PALETA DE COLORES CELESTE Y PLATEADO */
        :root { 
            --celeste: #4FC3F7;       /* Celeste Vibrante */
            --celeste-dark: #0277BD;  /* Celeste Oscuro para textos y bordes fuertes */
            --plata: #cfd8dc;         /* Plata suave */
            --plata-borde: #90A4AE;   /* Plata oscuro para bordes */
            --page-bg: #fdfdfe;       /* Blanco con tinte azulado muy sutil */
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            /* IMAGEN DE FONDO */
            background: url('fondo.jpg') no-repeat center center fixed;
            background-size: cover;
            margin: 0; min-height: 100vh;
            display: flex; align-items: center; justify-content: center;
            overflow: hidden;
        }

        .sparkle-mouse {
            position: fixed; width: 6px; height: 6px; background: white;
            border-radius: 50%; pointer-events: none; z-index: 9999;
            box-shadow: 0 0 10px #fff, 0 0 20px var(--celeste);
            animation: fairy-dust 1s forwards;
        }
        @keyframes fairy-dust { to { transform: translateY(40px) scale(0); opacity: 0; } }

        /* EL LIBRO: Azul Noche para resaltar el Plateado */
        .book { 
            width: 95%; 
            max-width: 400px; 
            height: 80vh; 
            max-height: 600px; 
            position: relative; 
            background: #1a237e; /* Azul Noche Profundo */
            border-radius: 10px 25px 25px 10px; 
            padding-left: 12px;
            box-shadow: 25px 25px 60px rgba(0,0,0,0.7), inset 10px 0 15px rgba(0,0,0,0.5); 
        }

        .page { 
            position: absolute; inset: 0; margin: 10px; padding: 20px; 
            background-color: var(--page-bg); 
            background-image: url('https://www.transparenttextures.com/patterns/paper-fibers.png');
            /* Borde Plateado */
            border: 6px double var(--plata-borde); 
            border-radius: 5px 15px 15px 5px; 
            display: none; flex-direction: column; align-items: center; justify-content: center; text-align: center; 
            overflow-y: auto;
            box-shadow: inset 5px 0 10px rgba(0,0,0,0.1);
        }

        .page.active { display: flex; z-index: 10; animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } }

        .nav-controls { 
            position: absolute; bottom: -65px; width: 100%; 
            display: flex; justify-content: space-between; z-index: 100; padding: 0 5px;
        }

        @media (max-height: 660px) {
            .book { height: 75vh; }
            .nav-controls { bottom: -55px; }
            .name-title { font-size: 2.2rem; }
        }

        /* TEXTOS Y TÍTULOS EN CELESTE OSCURO */
        .name-title { font-family: 'Great Vibes', cursive; font-size: 3rem; color: var(--celeste-dark); line-height: 1.1; margin: 15px 0; }
        
        .timer-unit { background: #e1f5fe; padding: 10px; border-radius: 10px; border: 1px solid var(--plata); min-width: 65px; }
        
        .music-btn {
            position: fixed; top: 20px; right: 20px; z-index: 1000;
            background: white; border: 2px solid var(--plata-borde);
            border-radius: 50%; width: 45px; height: 45px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.4); color: var(--celeste-dark);
        }

        .btn-nav { background: white; border: 2px solid var(--plata-borde); border-radius: 50%; width: 45px; height: 45px; color: var(--celeste-dark); box-shadow: 0 4px 5px rgba(0,0,0,0.3); }

        /* BURBUJAS */
        .mensaje-burbuja {
            background: linear-gradient(135deg, #e1f5fe 0%, #ffffff 100%);
            border: 1px solid var(--plata); border-radius: 15px 15px 15px 0;
            padding: 12px; margin-bottom: 15px; text-align: left;
            box-shadow: 3px 3px 8px rgba(0,0,0,0.05);
        }

        /* BOTONES PERSONALIZADOS */
        .btn-celeste { background-color: var(--celeste); color: white; border: none; }
        .btn-celeste:hover { background-color: var(--celeste-dark); color: white; }
        .btn-plata { background-color: #eceff1; color: #455a64; border: 1px solid #cfd8dc; }
        .btn-plata:hover { background-color: #cfd8dc; }

        /* TEXTOS COLOREADOS */
        .text-celeste { color: var(--celeste-dark) !important; }
        .border-celeste { border-color: var(--celeste) !important; }
    </style>
</head>
<body>

<button class="music-btn" onclick="toggleMusic()" id="mBtn"><i class="fas fa-music"></i></button>
<audio id="bgMusic" loop>
    <source src="musica.mp3" type="audio/mpeg">
</audio>

<div class="book" id="bookContainer">
    <div class="page active">
        <i class="fas fa-crown fa-2x text-plata mb-2"></i>
        <p class="small text-muted mb-0">MIS 15 AÑOS</p>
        <h1 class="name-title">Adriana Solange</h1>
        <hr class="w-75" style="border-top: 2px solid var(--plata-borde);">
        <div class="row w-100 small">
            <div class="col-6"><b>Padres</b><br>José Carlos Nuñez<br>Jackeline Quispe M.</div>
            <div class="col-6"><b>Padrinos</b><br>Ayleen Canto L.<br>Euler Mamani Ch.</div>
        </div>
        <img src="carruaje.png" width="150" class="mt-4 opacity-100" style="filter: drop-shadow(0px 5px 5px rgba(0,0,0,0.2));">
        <div class="mt-3 animate__animated animate__pulse animate__infinite">
            <small class="text-celeste fw-bold" style="font-size: 0.75rem; background: rgba(255,255,255,0.9); padding: 5px 10px; border-radius: 20px; border: 1px solid var(--plata);">
                <i class="fas fa-hand-pointer"></i> Toca el libro para iniciar
            </small>
        </div>
    </div>

    <div class="page">
        <h4 class="text-celeste mb-4 fw-bold">¡Falta Muy Poco!</h4>
        <div class="d-flex gap-2">
            <div class="timer-unit"><div id="d" class="h3 fw-bold mb-0 text-secondary">0</div><small>Días</small></div>
            <div class="timer-unit"><div id="h" class="h3 fw-bold mb-0 text-secondary">00</div><small>Hrs</small></div>
            <div class="timer-unit"><div id="m" class="h3 fw-bold mb-0 text-secondary">00</div><small>Min</small></div>
        </div>
        <div class="mt-5 text-muted">
            <p class="mb-0">Sábado 27 de Diciembre</p>
            <p class="fw-bold h5 text-dark">7:30 PM</p>
        </div>
    </div>

    <div class="page">
        <h5 class="text-celeste mb-2"><i class="fas fa-map-marker-alt"></i> Recepción</h5>
        <p class="small mb-2"><b>El Rancho de Pol 2</b><br>Av. Los Ciruelos 492 - SJL</p>
        
        <div class="p-2 mb-2 rounded-3 text-dark border shadow-sm" style="background: #e1f5fe; border-color: var(--celeste); font-size: 0.7rem;">
            <i class="fas fa-star text-celeste"></i> Contamos con ambientes exclusivos:<br>
            <strong>Salón de Gala (Adultos)</strong> & <strong>Zona Lounge (Jóvenes)</strong>
        </div>

        <div class="ratio ratio-16x9 mb-2 border rounded shadow-sm">
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3902.5028458315194!2d-77.0072307!3d-11.9826367!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9105c5632382cbc9%3A0xa3e6a1ef662bc710!2sEl%20Rancho%20de%20Pol%202!5e0!3m2!1ses!2spe!4v1700000000000!5m2!1ses!2spe" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
        </div>
        <a href="https://maps.app.goo.gl/hG5P7zN3r9K2C5Q8A" target="_blank" class="btn btn-sm btn-celeste btn-rounded shadow">
            <i class="fas fa-route me-2"></i>Cómo llegar
        </a>
    </div>

   <div class="page">
        <div class="mb-4">
            <img src="mariposa.png" alt="Mariposa" style="width: 80px; height: auto; filter: drop-shadow(0px 3px 3px rgba(0,0,0,0.2));">
        </div>
        
        <h2 class="name-title" style="
            font-size: 1.6rem;       /* Tamaño un poco más pequeño para que no se amontone */
            line-height: 1.6;        /* Mayor espacio entre líneas */
            letter-spacing: 1px;     /* Espacio adicional entre cada letra cursiva */
            padding: 0 15px;         /* Márgenes laterales para que no toque los bordes */
            color: var(--celeste-dark); /* Color azul oscuro para buen contraste */
        ">
            "Cumplir Quince Años y compartirlo con los que amo, es una manera de ser feliz. Estos Quince Años me han sido dados para que fortalezcan con los dones que Dios me dio en todos los actos de mi vida."
        </h2>
        
        <p class="text-muted italic mt-3" style="font-size: 1.1rem;">
            - Hada Madrina
        </p>
    </div>

    <div class="page">
        <div class="mb-4">
            <i class="fas fa-user-tie fa-2x text-celeste mb-2"></i>
            <h5 class="fw-bold">Código de Vestimenta</h5>
            <p class="small">
                <span class="badge rounded-pill shadow-sm" style="background-color: var(--celeste-dark); font-size: 0.9rem;">Elegante / Gala</span>
                <br><br>
                Nos encantaría verte lucir tu mejor gala.
                <br>
                <small class="text-muted">(Se reserva el color Celeste para la quinceañera)</small>
            </p>
        </div>
        <hr class="w-75 mx-auto" style="border-top: 1px double var(--plata-borde);">
        <div class="mt-4">
            <i class="fab fa-instagram fa-2x mb-2" style="color: #E1306C;"></i>
            <h5 class="fw-bold">¡Comparte la Magia!</h5>
            <p class="small">Usa nuestro hashtag oficial:</p>
            <div class="p-2 border rounded-3 bg-light shadow-sm">
                <h4 class="mb-0 fw-bold text-celeste">#QuinoAdriana</h4>
            </div>
        </div>
    </div>

    <div class="page">
        <h5 class="text-celeste mb-3" style="font-family: 'Playfair Display';">Confirmación de Asistencia</h5>
        
        <div class="p-3 mb-3 shadow text-center" style="background-color: #e3f2fd; border: 2px solid var(--celeste-dark); border-radius: 10px;">
            <i class="fas fa-info-circle fa-2x mb-2 text-primary animate__animated animate__pulse animate__infinite"></i>
            <p class="mb-0 fw-bold" style="color: #0d47a1; font-size: 0.75rem; line-height: 1.4;">
                Agradecemos su gentil comprensión al considerar que, para el mayor disfrute de todos, el evento se llevará a cabo en una atmósfera exclusiva de adultos y jóvenes.
            </p>
        </div>

        <form id="formAsistencia" class="w-100 text-start small">
            <input type="hidden" name="tipo" value="asistencia">
            
            <div class="mb-3">
                <label class="fw-bold text-dark">¿Cómo asistirás?</label>
                <select name="invitado1" class="form-select border-celeste fw-bold text-dark" required>
                    <option value="" selected disabled>Selecciona una opción...</option>
                    <option value="Sola/o">Asistiré Sola/o</option>
                    <option value="Acompañada/o">Asistiré Acompañada/o</option>
                </select>
            </div>

            <div class="mb-3">
                <label class="fw-bold text-dark">Nombres completos:</label>
                <textarea name="nombre" class="form-control border-celeste" rows="4" 
                          placeholder="Ejemplo:
Juan Pérez - Mesa (Adulto)
Maria Ramos - Box (Joven)" required></textarea>
                
                <div class="alert mt-2 mb-0 p-2 text-dark shadow-sm" style="font-size: 0.75rem; background-color: #bbdefb; border: 1px solid var(--celeste-dark);">
                    <i class="fas fa-exclamation-circle text-primary"></i> <strong>ATENCIÓN:</strong> Por favor, especifica si cada invitado va a <span class="badge bg-primary">MESA (Adulto)</span> o <span class="badge bg-info text-dark">BOX (Joven)</span>.
                </div>
            </div>

            <button type="submit" class="btn btn-celeste w-100 btn-rounded shadow-sm fw-bold">
                Confirmar Asistencia
            </button>
        </form>
        <div id="statusAsistencia" class="mt-2 small fw-bold text-center"></div>
    </div>

    <div class="page">
        <h5 class="text-celeste mb-3">Envía un Deseo Mágico</h5>
        <form id="formSaludos" class="w-100 text-start small">
            <input type="hidden" name="tipo" value="saludo">
            <div class="mb-2">
                <label class="fw-bold">Tu Nombre:</label>
                <input type="text" name="nombre" class="form-control border-celeste" required>
            </div>
            <div class="mb-3">
                <label class="fw-bold">Mensaje para Adriana:</label>
                <textarea name="mensaje" class="form-control border-celeste" rows="4" maxlength="300" required></textarea>
            </div>
            <button type="submit" class="btn btn-plata w-100 btn-rounded">Enviar Saludo</button>
        </form>
        <div id="statusSaludos" class="mt-2 small fw-bold"></div>
    </div>

    <div class="page">
        <h5 class="text-celeste mb-3">Muro de Deseos</h5>
        <div id="muroMensajes" style="overflow-y: auto; max-height: 420px; width: 100%;" class="p-2">
            <p class="small text-muted">Cargando...</p>
        </div>
        <button class="btn btn-sm btn-outline-info mt-2" onclick="cargarMensajes()">Actualizar</button>
    </div>

    <div class="page">
        <div class="mb-3 animate__animated animate__fadeInUp">
            <i class="fas fa-crown fa-4x text-celeste" style="filter: drop-shadow(0px 4px 6px rgba(79, 195, 247, 0.4));"></i>
        </div>
        
        <h2 class="name-title" style="font-size: 4rem; margin-bottom: 0;">"Gracias"</h2>
        
        <p class="text-muted italic mt-2" style="font-family: 'Poppins', sans-serif; font-size: 1.1rem;">
            - Adriana Solange
        </p>
    </div>

    <div class="nav-controls">
        <button class="btn-nav" onclick="prev()"><i class="fas fa-chevron-left"></i></button>
        <button class="btn-nav" onclick="next()"><i class="fas fa-chevron-right"></i></button>
    </div>
</div>

<script>
    let cur = 0;
    const pages = document.querySelectorAll('.page');
    function show(i) { pages.forEach((p, idx) => p.classList.toggle('active', i === idx)); }
    
    function next() { 
        activarMusica();
        if(cur < pages.length - 1) show(++cur); 
    }
    function prev() { if(cur > 0) show(--cur); }

    const music = document.getElementById('bgMusic');
    const mBtn = document.getElementById('mBtn');

    function activarMusica() {
        if (music.paused) {
            music.play().then(() => {
                mBtn.innerHTML = '<i class="fas fa-pause"></i>';
            }).catch(e => console.log("Bloqueo de audio"));
        }
    }

    function toggleMusic() {
        if (music.paused) {
            music.play();
            mBtn.innerHTML = '<i class="fas fa-pause"></i>';
        } else {
            music.pause();
            mBtn.innerHTML = '<i class="fas fa-music"></i>';
        }
    }

    document.getElementById('bookContainer').addEventListener('click', activarMusica);

    document.addEventListener('mousemove', e => {
        let s = document.createElement('div');
        s.className = 'sparkle-mouse';
        s.style.left = e.clientX + 'px'; s.style.top = e.clientY + 'px';
        document.body.appendChild(s);
        setTimeout(() => s.remove(), 800);
    });

    const scriptURL = 'https://script.google.com/macros/s/AKfycbz3xR_-JTUGbjcoIaTilE0fDej-X-wcvYd5yh0I0pcFNmNYbXq6-0Ju4i8RxdOln2v4xw/exec'; 

    function configurarForm(formId, statusId) {
        const f = document.getElementById(formId);
        f.addEventListener('submit', e => {
            e.preventDefault();
            const b = f.querySelector('button');
            const s = document.getElementById(statusId);
            b.disabled = true; b.innerText = "Enviando...";
            fetch(scriptURL, { method: 'POST', body: new FormData(f)})
                .then(() => {
                    s.innerText = "✨ ¡Enviado con éxito!";
                    s.style.color = "var(--celeste-dark)";
                    f.reset(); b.disabled = false; b.innerText = "Enviar otro";
                    if(formId === 'formSaludos') cargarMensajes();
                }).catch(() => { 
                    s.innerText = "❌ Error"; 
                    s.style.color = "red"; 
                    b.disabled = false; 
                    b.innerText = "Reintentar"; 
                });
        });
    }

    function cargarMensajes() {
        const muro = document.getElementById('muroMensajes');
        fetch(scriptURL).then(r => r.json()).then(data => {
            muro.innerHTML = data.length ? "" : "<p class='small text-muted'>Esperando mensajes...</p>";
            data.forEach(m => {
                muro.innerHTML += `<div class="mensaje-burbuja"><strong>${m.nombre}:</strong><p>"${m.mensaje}"</p></div>`;
            });
        }).catch(() => { muro.innerHTML = "<p class='small text-danger'>No se pudieron cargar los mensajes.</p>"; });
    }

    configurarForm('formAsistencia', 'statusAsistencia');
    configurarForm('formSaludos', 'statusSaludos');

    window.onload = function() {
        cargarMensajes();
        setInterval(() => {
            const target = new Date('December 27, 2025 19:30:00') - new Date();
            document.getElementById('d').innerText = Math.max(0, Math.floor(target / 86400000));
            document.getElementById('h').innerText = Math.max(0, Math.floor((target % 86400000) / 3600000));
            document.getElementById('m').innerText = Math.max(0, Math.floor((target % 3600000) / 60000));
        }, 1000);
    };
</script>
</body>
</html>